__d((function(g,r,_i,a,_m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.toFormData=async function(i,o){if(!/multipart/i.test(o))throw new TypeError('Failed to fetch');const s=o.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!s)throw new TypeError('no or bad content-type header, no multipart boundary');const E=new D(s[1]||s[2]);let A,h,l,_,f,T;const R=[],u=new n.FormData,H=t=>{l+=S.decode(t,{stream:!0})},b=t=>{R.push(t)},P=()=>{const n=new t.File(R,T,{type:f});u.append(_,n)},L=()=>{u.append(_,l)},S=new TextDecoder('utf-8');S.decode(),E.onPartBegin=function(){E.onPartData=H,E.onPartEnd=L,A='',h='',l='',_='',f='',T=null,R.length=0},E.onHeaderField=function(t){A+=S.decode(t,{stream:!0})},E.onHeaderValue=function(t){h+=S.decode(t,{stream:!0})},E.onHeaderEnd=function(){if(h+=S.decode(),A=A.toLowerCase(),'content-disposition'===A){const t=h.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);t&&(_=t[2]||t[3]||''),T=c(h),T&&(E.onPartData=b,E.onPartEnd=P)}else'content-type'===A&&(f=h);h='',A=''};for await(const t of i)E.write(t);return E.end(),u};var t=r(d[0]),n=r(d[1]);let i=0;const o={START_BOUNDARY:i++,HEADER_FIELD_START:i++,HEADER_FIELD:i++,HEADER_VALUE_START:i++,HEADER_VALUE:i++,HEADER_VALUE_ALMOST_DONE:i++,HEADERS_ALMOST_DONE:i++,PART_DATA_START:i++,PART_DATA:i++,END:i++};let s=1;const E=s,A=s*=2,h=t=>32|t,l=()=>{};class D{constructor(t){this.index=0,this.flags=0,this.onHeaderEnd=l,this.onHeaderField=l,this.onHeadersEnd=l,this.onHeaderValue=l,this.onPartBegin=l,this.onPartData=l,this.onPartEnd=l,this.boundaryChars={},t='\r\n--'+t;const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i),this.boundaryChars[n[i]]=!0;this.boundary=n,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=o.START_BOUNDARY}write(t){let n=0;const i=t.length;let s=this.index,{lookbehind:l,boundary:D,boundaryChars:c,index:_,state:f,flags:T}=this;const R=this.boundary.length,u=R-1,H=t.length;let b,P;const L=t=>{this[t+'Mark']=n},S=t=>{delete this[t+'Mark']},y=(t,n,i,o)=>{void 0!==n&&n===i||this[t](o&&o.subarray(n,i))},w=(i,o)=>{const s=i+'Mark';s in this&&(o?(y(i,this[s],n,t),delete this[s]):(y(i,this[s],t.length,t),this[s]=0))};for(n=0;n<i;n++)switch(b=t[n],f){case o.START_BOUNDARY:if(_===D.length-2){if(45===b)T|=A;else if(13!==b)return;_++;break}if(_-1==D.length-2){if(T&A&&45===b)f=o.END,T=0;else{if(T&A||10!==b)return;_=0,y('onPartBegin'),f=o.HEADER_FIELD_START}break}b!==D[_+2]&&(_=-2),b===D[_+2]&&_++;break;case o.HEADER_FIELD_START:f=o.HEADER_FIELD,L('onHeaderField'),_=0;case o.HEADER_FIELD:if(13===b){S('onHeaderField'),f=o.HEADERS_ALMOST_DONE;break}if(_++,45===b)break;if(58===b){if(1===_)return;w('onHeaderField',!0),f=o.HEADER_VALUE_START;break}if(P=h(b),P<97||P>122)return;break;case o.HEADER_VALUE_START:if(32===b)break;L('onHeaderValue'),f=o.HEADER_VALUE;case o.HEADER_VALUE:13===b&&(w('onHeaderValue',!0),y('onHeaderEnd'),f=o.HEADER_VALUE_ALMOST_DONE);break;case o.HEADER_VALUE_ALMOST_DONE:if(10!==b)return;f=o.HEADER_FIELD_START;break;case o.HEADERS_ALMOST_DONE:if(10!==b)return;y('onHeadersEnd'),f=o.PART_DATA_START;break;case o.PART_DATA_START:f=o.PART_DATA,L('onPartData');case o.PART_DATA:if(s=_,0===_){for(n+=u;n<H&&!(t[n]in c);)n+=R;n-=u,b=t[n]}if(_<D.length)D[_]===b?(0===_&&w('onPartData',!0),_++):_=0;else if(_===D.length)_++,13===b?T|=E:45===b?T|=A:_=0;else if(_-1===D.length)if(T&E){if(_=0,10===b){T&=~E,y('onPartEnd'),y('onPartBegin'),f=o.HEADER_FIELD_START;break}}else T&A&&45===b?(y('onPartEnd'),f=o.END,T=0):_=0;if(_>0)l[_-1]=b;else if(s>0){const t=new Uint8Array(l.buffer,l.byteOffset,l.byteLength);y('onPartData',0,s,t),s=0,L('onPartData'),n--}break;case o.END:break;default:throw new Error(`Unexpected state entered: ${f}`)}w('onHeaderField'),w('onHeaderValue'),w('onPartData'),this.index=_,this.state=f,this.flags=T}end(){if(this.state===o.HEADER_FIELD_START&&0===this.index||this.state===o.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==o.END)throw new Error('MultipartParser.end(): stream ended unexpectedly')}}function c(t){const n=t.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!n)return;const i=n[2]||n[3]||'';let o=i.slice(i.lastIndexOf('\\')+1);return o=o.replace(/%22/g,'"'),o=o.replace(/&#(\d{4});/g,((t,n)=>String.fromCharCode(n))),o}}),1208,[1186,1184]);